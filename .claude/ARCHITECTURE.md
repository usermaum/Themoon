# ğŸ—ï¸ Lotto AI WebApp Architecture

## í”„ë¡œì íŠ¸ ì•„í‚¤í…ì²˜ ê°œìš”

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        Lotto AI WebApp                         â”‚
â”‚                    (Streamlit + Linear Design)                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                â”‚
                                â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Frontend Layer                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚   Linear Design â”‚  â”‚   Chart.js      â”‚  â”‚   Streamlit     â”‚  â”‚
â”‚  â”‚   Components    â”‚  â”‚   Components    â”‚  â”‚   UI Framework  â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                â”‚
                                â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Business Logic Layer                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚   AI Models     â”‚  â”‚   Data          â”‚  â”‚   User          â”‚  â”‚
â”‚  â”‚   Management    â”‚  â”‚   Processing    â”‚  â”‚   Management    â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚   Performance   â”‚  â”‚   A/B Testing   â”‚  â”‚   Feedback      â”‚  â”‚
â”‚  â”‚   Monitoring    â”‚  â”‚   System        â”‚  â”‚   System        â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                â”‚
                                â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Data Layer                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚   SQLite        â”‚  â”‚   Model         â”‚  â”‚   Log Files     â”‚  â”‚
â”‚  â”‚   Database      â”‚  â”‚   Weights       â”‚  â”‚   & Analytics   â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ì»´í¬ë„ŒíŠ¸ ê³„ì¸µ êµ¬ì¡°

### 1. UI Layer (ì‚¬ìš©ì ì¸í„°í˜ì´ìŠ¤)
```
components/
â”œâ”€â”€ linear_design/           # Linear Design System
â”‚   â”œâ”€â”€ container.py         # ìµœìƒìœ„ ì»¨í…Œì´ë„ˆ
â”‚   â”œâ”€â”€ section.py          # ì„¹ì…˜ í—¤ë”
â”‚   â”œâ”€â”€ panel.py            # íŒ¨ë„ ì»¨í…Œì´ë„ˆ
â”‚   â”œâ”€â”€ button.py           # ë²„íŠ¼ ì»´í¬ë„ŒíŠ¸
â”‚   â”œâ”€â”€ grid.py             # ê·¸ë¦¬ë“œ ë ˆì´ì•„ì›ƒ
â”‚   â”œâ”€â”€ spacer.py           # ê°„ê²© ì¡°ì •
â”‚   â”œâ”€â”€ divider.py          # êµ¬ë¶„ì„ 
â”‚   â”œâ”€â”€ card.py             # ì¹´ë“œ ì»´í¬ë„ŒíŠ¸
â”‚   â”œâ”€â”€ badge.py            # ë°°ì§€ ì»´í¬ë„ŒíŠ¸
â”‚   â””â”€â”€ alert.py            # ì•Œë¦¼ ì»´í¬ë„ŒíŠ¸
â””â”€â”€ chart_js.py             # Chart.js ë˜í¼
```

### 2. AI Models Layer (AI ëª¨ë¸)
```
modules/lotto/models/
â”œâ”€â”€ lstm_predictor.py        # LSTM ì‹ ê²½ë§
â”œâ”€â”€ transformer_predictor.py # Transformer ëª¨ë¸
â”œâ”€â”€ prophet_predictor.py     # Prophet ì‹œê³„ì—´
â””â”€â”€ ensemble_predictor.py    # ì•™ìƒë¸” ëª¨ë¸
```

### 3. Management Layer (ê´€ë¦¬ ì‹œìŠ¤í…œ)
```
modules/lotto/
â”œâ”€â”€ model_manager.py         # ëª¨ë¸ í†µí•© ê´€ë¦¬
â”œâ”€â”€ performance_monitor.py   # ì„±ëŠ¥ ëª¨ë‹ˆí„°ë§
â”œâ”€â”€ hyperparameter_tuner.py  # í•˜ì´í¼íŒŒë¼ë¯¸í„° íŠœë‹
â”œâ”€â”€ realtime_learner.py      # ì‹¤ì‹œê°„ í•™ìŠµ
â”œâ”€â”€ ab_testing.py            # A/B í…ŒìŠ¤íŠ¸
â””â”€â”€ user_feedback.py         # ì‚¬ìš©ì í”¼ë“œë°±
```

### 4. Settings Layer (ì„¤ì • ë° ì¸ì¦)
```
modules/settings/
â”œâ”€â”€ auth.py                  # ì‚¬ìš©ì ì¸ì¦
â”œâ”€â”€ database.py              # ë°ì´í„°ë² ì´ìŠ¤ ëª¨ë¸
â””â”€â”€ admin.py                 # ê´€ë¦¬ì ê¸°ëŠ¥
```

## ë°ì´í„° íë¦„

### 1. ì‚¬ìš©ì ìš”ì²­ íë¦„
```
ì‚¬ìš©ì ìš”ì²­ â†’ Streamlit UI â†’ Linear Design Components â†’ Business Logic â†’ Database
     â†‘                                                                      â†“
     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ ì‘ë‹µ â† Chart.js Components â† AI Models â†â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2. AI ì˜ˆì¸¡ íë¦„
```
ë°ì´í„° ë¡œë“œ â†’ ì „ì²˜ë¦¬ â†’ ëª¨ë¸ ì„ íƒ â†’ ì˜ˆì¸¡ ì‹¤í–‰ â†’ ê²°ê³¼ í›„ì²˜ë¦¬ â†’ UI í‘œì‹œ
     â†‘              â†“
     â””â”€â”€ ì„±ëŠ¥ ëª¨ë‹ˆí„°ë§ â† ì˜ˆì¸¡ ê²°ê³¼ ì €ì¥
```

### 3. ì‚¬ìš©ì í”¼ë“œë°± íë¦„
```
ì‚¬ìš©ì í”¼ë“œë°± â†’ í”¼ë“œë°± ì‹œìŠ¤í…œ â†’ ë°ì´í„°ë² ì´ìŠ¤ ì €ì¥ â†’ ë¶„ì„ â†’ ì¸ì‚¬ì´íŠ¸ ìƒì„±
```

## ì»´í¬ë„ŒíŠ¸ ê°„ ì˜ì¡´ì„±

### 1. UI ì»´í¬ë„ŒíŠ¸ ì˜ì¡´ì„±
```
Linear Design Components
    â†“
Streamlit Framework
    â†“
Python Runtime
```

### 2. AI ëª¨ë¸ ì˜ì¡´ì„±
```
AI Models (LSTM, Transformer, Prophet)
    â†“
ModelManager
    â†“
PerformanceMonitor
    â†“
Database
```

### 3. ë°ì´í„° ì˜ì¡´ì„±
```
SQLite Database
    â†“
Data Processing
    â†“
AI Models
    â†“
Predictions
    â†“
UI Display
```

## ì£¼ìš” íŒ¨í„´

### 1. ì»´í¬ë„ŒíŠ¸ ì‚¬ìš© íŒ¨í„´
```python
# ê¸°ë³¸ ë ˆì´ì•„ì›ƒ íŒ¨í„´
with Container.render(max_width="1400px", padding="xl"):
    with Section.render("ì œëª©", "ì„¤ëª…"):
        with Panel.render("íŒ¨ë„", padding="xl", elevation="dialog"):
            # ë‚´ìš©
```

### 2. AI ëª¨ë¸ ì‚¬ìš© íŒ¨í„´
```python
# ëª¨ë¸ ì˜ˆì¸¡ íŒ¨í„´
try:
    manager = ModelManager(db_path="app/data/lotto.db")
    if not manager.load_model_from_db('LSTM'):
        manager.train_lstm()
    predicted = manager.predict_lstm(top_k=6)
except Exception as e:
    st.error(f"ì˜ˆì¸¡ ì‹¤íŒ¨: {e}")
```

### 3. ì—ëŸ¬ ì²˜ë¦¬ íŒ¨í„´
```python
# í†µì¼ëœ ì—ëŸ¬ ì²˜ë¦¬
try:
    # ì‹¤í–‰í•  ì½”ë“œ
    st.success("ì„±ê³µ ë©”ì‹œì§€")
    logger.info("ë¡œê·¸ ë©”ì‹œì§€")
except Exception as e:
    st.error(f"ì—ëŸ¬ ë©”ì‹œì§€: {e}")
    logger.error(f"ì—ëŸ¬ ë¡œê·¸: {e}")
```

## í™•ì¥ì„± ê³ ë ¤ì‚¬í•­

### 1. ìƒˆë¡œìš´ AI ëª¨ë¸ ì¶”ê°€
- `modules/lotto/models/` ë””ë ‰í† ë¦¬ì— ìƒˆ ëª¨ë¸ í´ë˜ìŠ¤ ì¶”ê°€
- `ModelManager`ì— ìƒˆ ëª¨ë¸ ë©”ì„œë“œ ì¶”ê°€
- UIì— ìƒˆ ëª¨ë¸ ë²„íŠ¼ ì¶”ê°€

### 2. ìƒˆë¡œìš´ UI ì»´í¬ë„ŒíŠ¸ ì¶”ê°€
- `components/linear_design/` ë””ë ‰í† ë¦¬ì— ìƒˆ ì»´í¬ë„ŒíŠ¸ ì¶”ê°€
- `__init__.py`ì— export ì¶”ê°€
- VS Code ìŠ¤ë‹ˆí«ì— ìƒˆ ì»´í¬ë„ŒíŠ¸ ì¶”ê°€

### 3. ìƒˆë¡œìš´ ê¸°ëŠ¥ ì¶”ê°€
- `modules/lotto/` ë””ë ‰í† ë¦¬ì— ìƒˆ ê¸°ëŠ¥ ëª¨ë“ˆ ì¶”ê°€
- ë©”ì¸ ì•±ì— ìƒˆ í˜ì´ì§€ ì¶”ê°€
- ê´€ë¦¬ì ê¸°ëŠ¥ì— ìƒˆ ë©”ë‰´ ì¶”ê°€

## ì„±ëŠ¥ ìµœì í™”

### 1. ìºì‹± ì „ëµ
```python
@st.cache_resource
def load_model_manager():
    return ModelManager(DB_PATH)

@st.cache_data
def load_lotto_data():
    return processor.load_data()
```

### 2. ë¹„ë™ê¸° ì²˜ë¦¬
- ì‹¤ì‹œê°„ í•™ìŠµì€ ë°±ê·¸ë¼ìš´ë“œ ìŠ¤ë ˆë“œì—ì„œ ì‹¤í–‰
- ëª¨ë¸ í•™ìŠµì€ ë³„ë„ í”„ë¡œì„¸ìŠ¤ì—ì„œ ì‹¤í–‰
- ì‚¬ìš©ì ì¸í„°í˜ì´ìŠ¤ëŠ” ë¸”ë¡œí‚¹ë˜ì§€ ì•ŠìŒ

### 3. ë°ì´í„°ë² ì´ìŠ¤ ìµœì í™”
- ì¸ë±ìŠ¤ ì¶”ê°€ë¡œ ì¿¼ë¦¬ ì„±ëŠ¥ í–¥ìƒ
- ì—°ê²° í’€ë§ìœ¼ë¡œ ì—°ê²° ì˜¤ë²„í—¤ë“œ ê°ì†Œ
- ì •ê¸°ì ì¸ ë°ì´í„° ì •ë¦¬

## ë³´ì•ˆ ê³ ë ¤ì‚¬í•­

### 1. ì‚¬ìš©ì ì¸ì¦
- ëª¨ë“  ë³´í˜¸ëœ í˜ì´ì§€ì— ì¸ì¦ í™•ì¸
- ì„¸ì…˜ ê¸°ë°˜ ì¸ì¦ ì‹œìŠ¤í…œ
- ê´€ë¦¬ì ê¶Œí•œ ë¶„ë¦¬

### 2. ë°ì´í„° ë³´í˜¸
- ì‚¬ìš©ì ì…ë ¥ ê²€ì¦
- SQL ì¸ì ì…˜ ë°©ì§€
- ë¯¼ê°í•œ ì •ë³´ ì•”í˜¸í™”

### 3. ì—ëŸ¬ ì²˜ë¦¬
- ìƒì„¸í•œ ì—ëŸ¬ ì •ë³´ ë…¸ì¶œ ë°©ì§€
- ë¡œê·¸ì— ë¯¼ê°í•œ ì •ë³´ í¬í•¨í•˜ì§€ ì•ŠìŒ
- ì‚¬ìš©ìì—ê²ŒëŠ” ì¹œí™”ì ì¸ ì—ëŸ¬ ë©”ì‹œì§€

## ëª¨ë‹ˆí„°ë§ ë° ë¡œê¹…

### 1. ë¡œê¹… ì „ëµ
```python
import logging
logger = logging.getLogger(__name__)

# ì¤‘ìš”í•œ ì‘ì—…ì— ë¡œê¹…
logger.info("ëª¨ë¸ í•™ìŠµ ì‹œì‘")
logger.error(f"ì˜ˆì¸¡ ì‹¤íŒ¨: {e}")
```

### 2. ì„±ëŠ¥ ëª¨ë‹ˆí„°ë§
- ëª¨ë¸ ì˜ˆì¸¡ ì •í™•ë„ ì¶”ì 
- ì‚¬ìš©ì í”¼ë“œë°± ë¶„ì„
- ì‹œìŠ¤í…œ ë¦¬ì†ŒìŠ¤ ì‚¬ìš©ëŸ‰ ëª¨ë‹ˆí„°ë§

### 3. ì•Œë¦¼ ì‹œìŠ¤í…œ
- ì—ëŸ¬ ë°œìƒ ì‹œ ì•Œë¦¼
- ì„±ëŠ¥ ì €í•˜ ê°ì§€ ì‹œ ì•Œë¦¼
- ì‚¬ìš©ì í”¼ë“œë°± ê¸‰ì¦ ì‹œ ì•Œë¦¼

ì´ ì•„í‚¤í…ì²˜ëŠ” í™•ì¥ ê°€ëŠ¥í•˜ê³  ìœ ì§€ë³´ìˆ˜ê°€ ìš©ì´í•˜ë„ë¡ ì„¤ê³„ë˜ì—ˆìŠµë‹ˆë‹¤.
